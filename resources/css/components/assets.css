/* ==========================================================================
   ASSETS
   ========================================================================== */

.asset-modal {
    .saving {
        @apply absolute inset-0 flex items-center rounded-sm bg-white/90;
        z-index: 200;

        .inner {
            text-align: center;
            padding: 50px;
            margin: 0 auto;
        }

        i {
            position: relative;
            top: -1px;
            margin-right: 10px;
            [dir='rtl'] & {
                margin-left: 10px;
                margin-right: 0;
            }
        }
    }
}

.drag-notification {
    @apply absolute inset-0 flex items-center justify-center rounded p-1 text-center text-xs leading-tight @sm:text-lg;
    border: 1px dashed theme('colors.gray.600');
    pointer-events: none;
    z-index: 1049;
    background: rgba(255, 255, 255, 0.9);

    .dark & {
        @apply bg-dark-900/90;
        border-color: theme('colors.dark.600');
    }
}

/* Table Listing
   ========================================================================== */

.asset-table-listing {
    @apply relative overflow-hidden rounded border dark:border-dark-900;

    table {
        @apply m-0 w-full select-none rounded-b border-none;
    }
    tbody tr {
        @apply outline-none;
    }

    tbody tr:not(:last-child) {
        @apply border-b dark:border-dark-900;
    }

    tbody tr td {
        @apply p-2;
    }
}

.assets-fieldtype-picker + .asset-table-listing {
    @apply rounded-t-none;
}

.asset-listing .actions {
    margin-bottom: 15px;
    display: flex;

    .search {
        flex: 1;
        margin-right: 15px;
        [dir='rtl'] & {
            margin-left: 15px;
            margin-right: 0;
        }
        margin-left: 0;
        [dir='rtl'] & {
            margin-right: 0;
            margin-left: 0;
        }
    }

    > .btn {
        margin-right: 15px;
        [dir='rtl'] & {
            margin-left: 15px;
            margin-right: 0;
        }
    }
}

/* Fieldtype
  ========================================================================== */

.asset-tile.draggable-source--is-dragging {
    @apply opacity-50;
}
.asset-tile.draggable-mirror {
    @apply shadow-lg;
}

/* Grid Listing
  ========================================================================== */

.asset-grid-listing {
    @apply relative grid gap-4 bg-white p-4 dark:bg-dark-800;
    grid-template-columns: repeat(auto-fill, minmax(125px, 1fr));
}

/* Asset Tile
   ========================================================================== */

.asset-tile {
    @apply relative flex min-w-0 cursor-pointer flex-col items-center justify-between rounded border bg-white dark:border-dark-300 dark:bg-dark-600;

    .asset-thumb {
        @apply flex h-full w-full items-center justify-center rounded;
        > img,
        > svg,
        > .svg-img {
            @apply absolute max-h-full max-w-full;
        }
    }

    .asset-thumb-container {
        @apply relative flex w-full flex-1 items-center justify-center;
        aspect-ratio: 1 / 1;
    }

    .asset-thumb-container:hover .asset-controls {
        @apply block;
    }

    .asset-meta {
        @apply w-full border-t text-2xs text-gray-700 dark:border-dark-200 dark:text-dark-100;
    }

    .asset-meta-btn {
        @apply px-2 py-1 text-blue hover:bg-gray-200 dark:border-dark-300 dark:hover:bg-dark-800 ltr:border-l rtl:border-r;
    }

    .asset-filename {
        @apply truncate;
    }

    .asset-controls {
        @apply absolute hidden;
    }
}

.asset-tile.selected {
    @apply border-blue dark:border-dark-blue-100;
    box-shadow: 0 0 0 1px theme('colors.blue.DEFAULT');
}

.asset-thumbnail {
    @apply border border-white dark:border-dark-950;
}

/* The Asset Editor
  ========================================================================== */

.asset-editor {
    .editor-preview {
        .editor-preview-image {
            @apply flex flex-1 flex-col p-8;
        }

        .image-wrapper {
            flex: 1 1 auto;
            position: relative;

            > * {
                @apply absolute h-auto max-h-full w-auto max-w-full;
                left: 50%;
                [dir='rtl'] & {
                    left: auto;
                    right: 50%;
                }
                top: 50%;
                transform: translate(-50%, -50%);
                [dir='rtl'] & {
                    transform: translate(50%, -50%);
                }
                box-shadow: 0 0 32px rgba(0, 0, 0, 0.35);
            }
        }
    }

    .loading {
        @apply absolute inset-0 z-10 flex items-center justify-center rounded bg-white/70;
    }
}

/* Lazyloading
  ========================================================================== */

.lazyload,
.lazyloading {
    opacity: 0;
}
.lazyloaded {
    opacity: 1;
    transition: opacity 180ms;
}
