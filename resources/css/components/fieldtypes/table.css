/* ==========================================================================
   Table Fieldtype
   ========================================================================== */

.table-contained {
    @apply relative mb-4 w-full rounded-lg border text-gray shadow-ui-sm outline-hidden dark:border-dark-900 dark:text-dark-150 text-start;
    border-collapse: separate;
    border-spacing: 0;
    table-layout: fixed;
}

.table-contained thead {
    th {
        @apply z-10 border-b bg-gray-50 p-2 text-sm font-medium text-gray-900 dark:border-dark-900 dark:bg-gray-800 dark:text-gray-100 not-last:border-e;
        display: table-cell;
        position: sticky;
        top: -1px;

        &:first-child {
            @apply rounded-ss-lg ps-3;
        }

        &:last-child {
            @apply rounded-se-lg border-s-0;
        }

        &.grid-drag-handle-header {
            @apply w-3;
        }
    }
}

.table-contained .input-text {
    @apply rounded-none border-none bg-white text-sm shadow-none outline-hidden;
    @apply dark:bg-gray-800;
    &:focus {
        @apply bg-gray-100 shadow-inner ring-0 dark:bg-gray-700;
    }
}


.table-contained tbody {
    @apply outline-hidden;

    tr {
        @apply outline-hidden;
    }

    th {
        @apply bg-gray-50 p-2 text-sm font-medium text-gray-700 text-start border-r border-b border-gray-200 dark:border-dark-900 dark:bg-gray-700 dark:text-gray-100;
    }

    tr:first-child th {
        @apply rounded-tl-lg;
    }

    tr:last-child th {
        @apply border-b-0 rounded-bl-lg;
    }

    td {
        @apply border-b p-0 dark:border-dark-900 border-e;

        &:first-child.grid-cell {
            @apply ps-4;
        }

        &:last-child {
            @apply border-e-0;
        }

        &.table-drag-handle {
            @apply h-full w-3 p-2 cursor-grab;
            background: var(--color-white) url('../../../svg/icons/light/drag-dots.svg') center center no-repeat;
            background-size: 7px 17px;

            .dark & {
                background-color: var(--color-gray-800);
            }

            &:hover {
                @apply bg-gray-100 dark:bg-gray-700;
            }
        }
    }

    tr:first-child td:last-child {
        @apply rounded-se-lg overflow-hidden;
    }

    tr:last-child td {
        @apply border-b-0 overflow-hidden;
        &:first-child {
            @apply rounded-es-lg;
        }
        &:last-child {
            @apply rounded-ee-lg;
        }
    }

    tr.draggable-source--is-dragging td {
        @apply bg-gray-100 dark:bg-gray-800;
    }
}

.table-contained > tbody:first-child tr:first-child td:first-child {
    @apply rounded-tl-lg;
}

.table-contained > tbody:first-child tr:first-child td:last-child {
    @apply rounded-tr-lg;
}

.table-contained .row-controls {
    @apply w-8 text-center ps-0;
    vertical-align: middle;
    &:focus-within {
        @apply bg-gray-200 dark:bg-gray-700;
        button {
            @apply outline-hidden ring-0;
        }
    }
}

.table-fullscreen {
    @apply fixed inset-0 min-h-screen overflow-scroll rounded-none bg-gray-200;
    z-index: 998; /*  to appear over the top of the rest of the stuff on the page. */
    /*  too high and it'll be over the top of stacks, etc. */
}
